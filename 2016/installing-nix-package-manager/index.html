<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><meta content="width=device-width,initial-scale=1" name="viewport"><title>Installing the Nix package manager</title><link rel="icon" href=""><link rel="stylesheet" type="text/css" href="../hash/212b680e8ccabb24e417292b8d8a61c7.css"></head><body><header class="global-page-header"><div class="container"><a href="..">Chris Martin</a></div></header><main><div><div class="post-head container"><h1 class="post-title">Installing the Nix package manager</h1><div class="post-date">2016 August 31</div></div><div class="post-body"><div class="container"><p>A minimal guide to getting started with
<a href="https://nixos.org/nix/">the Nix package manager</a>
on any Linux or OSX machine.</p><p>There is a lot to explain about Nix that I am intentionally omitting here.
This is only what you need to know to get a working installation.</p><h2>1. Install Nix</h2><p>This first step requires you to be a sudoer (it will prompt you for your
password), but <i>do not</i> type &quot;sudo&quot; yourself.
It&#39;s important for all of these steps to be performed as your own user,
not as root.</p><p>Run this command:</p></div><div class="sourceCode"><pre class="sourceCode"><code class="sourceCode"><span class="ex">curl</span> https://nixos.org/nix/install <span class="kw">|</span> <span class="fu">sh</span></code></pre></div><div class="container"><p>This creates the <code>/nix</code> directory, which is owned by root.
Nix manages absolutely everything in this directory; you should never touch it.</p><h2>2. Choose a channel</h2><p>Channels are stable sets of packages.
Go to <a href="https://nixos.org/channels/">nixos.org/channels</a>
and find the highest-numbered channel.</p><p>Channels are released every six months. At the time of writing, &quot;nixos-16.03&quot;
(from March 2016) is the latest channel, so that&#39;s what we&#39;ll use in the
following steps; but you should replace <code>16.03</code> with the version you&#39;re using.</p><h2>3. Set up environment variables</h2><p>Add the following lines to the end of <code>~/.bashrc</code> (or <code>~/.zshrc</code>, or whatever
the config file for the shell you use):</p></div><div class="sourceCode"><pre class="sourceCode"><code class="sourceCode"><span class="bu">source</span> <span class="va">$HOME</span>/.nix-profile/etc/profile.d/nix.sh
<span class="bu">export</span> <span class="va">NIX_PATH=</span><span class="st">&quot;nixpkgs=</span><span class="va">$HOME</span><span class="st">/.nix-defexpr/channels/nixos-16.03&quot;</span></code></pre></div><div class="container"><p>Remember to replace <code>16.03</code> with the actual channel you&#39;re using.</p><h2>4. Add the channel</h2><p>Run the following commands in a new shell, because you&#39;ll need the <code>.bashrc</code>
changes made by step 3:</p></div><div class="sourceCode"><pre class="sourceCode"><code class="sourceCode"><span class="ex">nix-channel</span> --add http://nixos.org/channels/nixos-16.03 nixos-16.03
<span class="ex">nix-channel</span> --update</code></pre></div><div class="container"><p>Again, replace <code>16.03</code> with the channel you&#39;re using.</p><h2>5. Play</h2><p>Run this to show that it&#39;s working!</p></div><div class="sourceCode"><pre class="sourceCode"><code class="sourceCode"><span class="ex">nix-shell</span> -p rogue --command rogue</code></pre></div><div class="container"><h2>Uninstall</h2><p>If you want to remove everything related to Nix:</p></div><div class="sourceCode"><pre class="sourceCode"><code class="sourceCode"><span class="fu">sudo</span> rm -rf /nix
<span class="fu">rm</span> -rf ~/.nix-*</code></pre></div><div class="container"></div></div></div></main></body></html>